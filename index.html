<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Ütopya.net</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>

  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="logo">
      <a href="/index.html">
        <img src="/images/background/logo.png" alt="Ütopya.net">
      </a>
    </div>
    <ul>
      <li><a href="/index.html"><img src="/images/menu/ana-sayfa.png" alt="Ana Sayfa"></a></li>
      <li><a href="/parfumler/index.html"><img src="/images/menu/parfumler.png" alt="Parfümler"></a></li>
      <li><a href="/hediye-setleri.html"><img src="/images/menu/hediye-setleri.png" alt="Hediye Setleri"></a></li>
      <li><a href="/vintage.html"><img src="/images/menu/vintage.png" alt="Vintage"></a></li>
      <li><a href="/kokunun-yolculugu.html"><img src="/images/menu/kokunun-yolculugu.png" alt="Kokunun Yolculuğu"></a></li>
      <li><a href="/notalar.html"><img src="/images/menu/notalar.png" alt="Notalar"></a></li>
      <li><a href="/parfumorler.html"><img src="/images/menu/parfumorler.png" alt="Parfümörler"></a></li>
      <li><a href="/markalar.html"><img src="/images/menu/markalar.png" alt="Markalar"></a></li>
      <li><a href="/biz.html"><img src="/images/menu/biz.png" alt="Biz"></a></li>
    </ul>
  </aside>

  <!-- Topbar -->
  <header class="topbar">
    <div class="search-box">
      <form>
        <input type="text" placeholder="Parfüm ara..." class="search-input">
        <button type="submit">Ara</button>
      </form>
    </div>
    <nav class="user-menu">
      <ul>
        <li><a href="/uye-giris.html">Üye Girişi</a></li>
        <li><a href="/uye-kayit.html">Üye Kayıt</a></li>
        <li><a href="/siparis-takip.html">Sipariş Takip</a></li>
        <li><a href="/sepet.html">Sepetim</a></li>
        <li><a href="/favoriler.html">Favorilerim</a></li>
      </ul>
    </nav>
  </header>

  <!-- Slider -->
  <section class="slider">
    <img src="/images/slider/slide1.png" alt="Slide 1">
    <img src="/images/slider/slide2.png" alt="Slide 2">
    <img src="/images/slider/slide3.png" alt="Slide 3">
    <img src="/images/slider/slide4.png" alt="Slide 4">
  </section>

  <!-- Main Content -->
  <div class="main-content">
    <section class="products">
      <h2>Tüm Parfümler</h2>
      <div class="product-grid" id="productGrid"></div>
    </section>
  </div>

  <script>
    // Ürün grid doldurma
    fetch('/products.json')
      .then(res => res.json())
      .then(products => {
        const grid = document.getElementById('productGrid');
        grid.innerHTML = products.map(p => `
          <div class="product-card">
            <a href="${p.url}">
              <img src="${p.image}" alt="${p.name}">
              <h3>${p.brand} ${p.name}</h3>
            </a>
            <p>${p.concentration} - ${p.ml}</p>
            <p class="price">${p.price}</p>
            <p>Çıkış yılı: ${p.year}</p>
            <p>Parfümör: <a href="/parfumorler.html#${p.perfumerId}">${p.perfumer}</a></p>
            <div class="product-actions">
              ${p.stock === "Stokta var" 
                ? '<button class="btn primary">Sepete Ekle</button>' 
                : '<button class="btn secondary">Stoğa Girince Haber Ver</button>'}
              <button class="btn outline">Takip Listene Ekle</button>
              <button class="btn outline" onclick="window.location.href='/admin-panel/sorular.html?product=${p.id}'">Soru Sor</button>
              <button class="btn outline" onclick="window.location.href='/yorumlar/${p.id}.html'">Yorum Yaz</button>
            </div>
          </div>
        `).join('');
      });

    // Slider otomatik geçiş
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slider img');
    function showSlide(index) {
      slides.forEach((slide, i) => {
        slide.style.display = (i === index) ? 'block' : 'none';
      });
    }
    function nextSlide() {
      currentSlide = (currentSlide + 1) % slides.length;
      showSlide(currentSlide);
    }
    showSlide(currentSlide);
    setInterval(nextSlide, 3000);
  </script>

</body>
</html>
